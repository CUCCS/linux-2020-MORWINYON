# 第二章 Linux 服务器系统使用基础实验

## 一、实验简述

熟悉vim相关的基础操作，对课件上给出的问题整理相应的操作
并在虚拟机上操作一个文档并使用asciinema进行录制

## 二、问题清单

### 1.你了解vim有哪几种工作模式？

回答：命令模式，插入模式，底行模式。
### 2.Normal模式下：

#### (1)从当前行开始，一次向下移动光标10行的操作方法？

回答：使用指令```Nj```，N为数值，例如向下移动10行就是```10j```。
#### (2)如何快速移动到文件开始行和结束行？

回答：跳转文件开始行输入 ```:0``` 或者```:1```+```Enter```。跳转文件结束行输入```:```+```$```+```Enter```。
#### (3)如何快速跳转到文件中的第N行？

回答：输入```:```+行号+```Enter```。
### 3.Normal模式下，如何删除单个字符、单个单词、从当前光标位置一直删除到行尾、单行、当前行开始向下数N行？

回答：见下表

指令|功能
-|-
x|删除当前光标下的字符|
dw|删除光标之后的单词剩余部分|
d$|删除光标之后的该行剩余部分|
dd|删除当前行|
ndd n为数字|删除光标所在的向下n行，例如20dd则是删除光标所在的向下20行|
d1G|删除光标所在到第一行的所有数据|
dG|删除光标所在到最后一行的所有数据|

### 4.如何在vim中快速插入N个空行？如何在vim中快速输入80个-？

回答：插入N个空行输入```No```，N为数值，然后会进入输入模式，再按```esc```就会插入N个空行并回到命令模式

使用```x,y s/^/-``` 可以实现在第x到第y行的开头都插入"-"

### 5.如何撤销最近一次编辑操作？如何重做最近一次被撤销的操作？

回答：```u ```  撤销上一步的操作```Ctrl+r``` 恢复上一步被撤销的操作。

### 6.vim中如何实现剪切粘贴单个字符？单个单词？单行？如何实现相似的复制粘贴操作呢？

回答：见下表

指令|功能
-|-
dd|剪切游标所在行整行 |
d^|剪切至行首，或d0|
d$|剪切至行尾| 
dw|剪切一个word| 
dG|剪切至文件尾|
p|在光标处粘贴|

把d替换成y则是复制的操作

在“命令”行模式下，按```v```，进入按字符选择模式

移动光标(```hjkl```)选择要进行复制的字符

选择完成后按```y```进行复制```d```进行剪切，按```p```在光标处进行粘贴

### 7.查看当前正在编辑的文件名的方法？查看当前光标所在行的行号的方法？

回答:输入```:f```即可

补充:命令模式下，显示行号输入```:set number```关闭行号只要输入```:set nonumber```

### 8.在文件中进行关键词搜索你会哪些方法？如何设置忽略大小写的情况下进行匹配搜索？如何将
匹配的搜索结果进行高亮显示？如何对匹配到的关键词进行批量替换？

回答：在normal模式下按下```/```即可进入查找模式，输入要查找的字符串并按下```Enter```。 Vim会跳转到第一个匹配。按下```n```查找下一个，按下```N```查找上一个。在查找模式中加入```\c```表示大小写不敏感查找，```\C```表示大小写敏感查找。例如：```/foo\c```

高亮显示所有查找匹配内容使用指令```sudo vim /etc/vim/vimrc```并在文件中按```i```添加内容```set hlsearch```并按```esc```输入```:wq!```退出

批量替换使用指令：```:{作用范围}s/{目标}/{替换}/{替换标志}```例如```:%s/foo/bar/g```会在全局范围(%)查找foo并替换为bar，所有出现都会被替换

### 9.在文件中最近编辑过的位置来回快速跳转的方法？

回答：```ctrl +O```或者```ctrl + I```

### 10.如何把光标定位到各种括号的匹配项？例如：找到(, [, or \{对应匹配的),], or }

回答：把光标移动到某一括号处，按```%```可以实现在它本身和其匹配的括号相互切换的功能。

### 11.在不退出vim的情况下执行一个外部程序的方法？

回答：在 vim 中执行 ```:shell``` 或 ```:sh```，当退输入```exit```出当前 shell 时，就会回到 vim；

也可以使用 ```ctr```+```z``` 进入 shell， 然后执行 ```fg``` 回到 vim。
我们只需要在命令前 加上 ```!``` 就可以。如，```:! sort %```该命令会对当前编辑的文件(%)
内容进行排序，并输出。

### 12.如何使用vim的内置帮助系统来查询一个内置默认快捷键的使用方法？如何在两个不同的分屏窗口中移动光标？

回答：```:help``` 后面跟上要查询的快捷键,如```:help G```
分屏移动见下表

指令|功能
-|-
ctrl + w + h|移动到光标左边的窗口|
ctrl + w + l|移动到光标右边的窗口|
ctrl + w + k|移动到光标上边的窗口|
ctrl + w + j|移动到光标下边的窗口|

## 三、操作视频

见下面链接，操作指令均参照上面整理的内容，示例文件仅用于演示，随机输入的一些字符

[视频链接](https://asciinema.org/a/Af9VNkVF0SnkQsXVXISSC0dnZ)